---
layout: day
title: Day 4 - TypeScript æ ¸å¿ƒèªæ³• (2)ï¼šunionã€enum
date: 2025-09-18 13:34:26
tags:
  - TypeScript
---

æ˜¨å¤©æˆ‘å€‘ä»‹ç´¹äº†åŸºæœ¬å‹åˆ¥ï¼Œä»Šå¤©è¦é€²ä¸€æ­¥å­¸æœƒ **Union Typeï¼ˆè¯åˆå‹åˆ¥ï¼‰** å’Œ **Enumï¼ˆåˆ—èˆ‰ï¼‰**ã€‚

é€™æ¬¡ä¸€æ¨£ç”¨ã€Œæ­ç«è»Šã€çš„ä¾‹å­ ğŸš„ï¼Œè®“ç¨‹å¼ç¢¼æ›´è²¼è¿‘ç”Ÿæ´»ï¼

<!-- more -->

---

## 1. Union Typeï¼ˆè¯åˆå‹åˆ¥ï¼‰

Union çš„ç‰¹è‰²æ˜¯ç”¨ **`|`** å°‡å¤šç¨®å¯èƒ½å‹åˆ¥å€åˆ†é–‹ä¾†ã€‚

ç•¶ä¸€å€‹å€¼å¯èƒ½æœ‰ã€Œå¤šç¨®å‹åˆ¥ã€æ™‚ï¼ŒUnion éå¸¸å¥½ç”¨ã€‚

### æ­ç«è»Šç¯„ä¾‹ï¼šä¹˜å®¢çš„ç¥¨è™Ÿ

```tsx
let ticketId: number | string;

ticketId = 12345; // æ•¸å­—å‹ç¥¨è™Ÿ
ticketId = "A12"; // å­—ä¸²å‹ç¥¨è™Ÿ
// ticketId = true; // âŒ ç·¨è­¯éŒ¯èª¤
```

---

### å¸¸è¦‹æ­é…ï¼šå‹åˆ¥å®ˆè¡› (Type Guards)

åœ¨ä½¿ç”¨ Union æ™‚ï¼Œæˆ‘å€‘é€šå¸¸éœ€è¦ç”¨ **`typeof`** ä¾†åˆ¤æ–·å‹åˆ¥å¾Œå†æ“ä½œï¼Œé¿å…å‡ºéŒ¯ã€‚

```tsx
function printTicketId(id: number | string) {
  if (typeof id === "string") {
    console.log("ç¥¨è™Ÿï¼ˆå­—ä¸²ï¼‰ï¼š" + id.toUpperCase());
  } else {
    console.log("ç¥¨è™Ÿï¼ˆæ•¸å­—ï¼‰ï¼š" + id);
  }
}

printTicketId(12345);
printTicketId("b23");
```

---

### Union Type è£œå……èªªæ˜ ğŸš‰

- **å„ªé»**ï¼š
  1. é©åˆè™•ç†ã€Œå¤šç¨®å¯èƒ½å‹åˆ¥ã€çš„æƒ…å¢ƒï¼Œä¾‹å¦‚ **API å›å‚³å€¼** æˆ– **ä½¿ç”¨è€…è¼¸å…¥**ã€‚
  2. å¯ä»¥æ­é… **Type Guards** æé«˜å®‰å…¨æ€§ã€‚
- **å¸¸è¦‹ä½¿ç”¨å ´æ™¯**ï¼š
  - è»Šç¥¨ IDï¼ˆå¯èƒ½æ˜¯æ•¸å­— / å­—ä¸²ï¼‰
  - è»Šå»‚åº§ä½ï¼ˆå¯èƒ½æ˜¯ "A12" ä¹Ÿå¯èƒ½æ˜¯ 12ï¼‰
  - ä»˜æ¬¾æ–¹å¼ï¼ˆå¯èƒ½æ˜¯ "ç¾é‡‘" | "ä¿¡ç”¨å¡" | "è¡Œå‹•æ”¯ä»˜"ï¼‰

```tsx
type PaymentMethod = "Cash" | "CreditCard" | "MobilePay";

let payment: PaymentMethod;

payment = "Cash"; // âœ…
payment = "MobilePay"; // âœ…
// payment = "Coupon";  // âŒ ä¸åœ¨å®šç¾©ç¯„åœ
```

---

## 2. Enumï¼ˆåˆ—èˆ‰ï¼‰

Enum é©åˆå®šç¾©ã€Œå›ºå®šç¯„åœå…§çš„å€¼ã€ï¼Œæ¯” Union æ›´æœ‰ã€Œåç¨± â†’ å€¼ã€çš„å°æ‡‰é—œä¿‚ã€‚

### æ­ç«è»Šç¯„ä¾‹ï¼šè»Šç¥¨ç‹€æ…‹

```tsx
enum TicketStatus {
  NotBought, // å°šæœªè³¼è²·
  Bought, // å·²è³¼ç¥¨
  Used, // å·²ä½¿ç”¨
  Expired, // å·²éæœŸ
}

let myTicket: { passenger: string; status: TicketStatus } = {
  passenger: "Arvin",
  status: TicketStatus.Bought,
};

console.log(myTicket);
```

---

### Enum + é™£åˆ—æ‡‰ç”¨ï¼šä¹˜å®¢æ¸…å–®

```tsx
let passengers: { name: string; status: TicketStatus }[] = [];

function addPassenger(name: string) {
  passengers.push({
    name: name,
    status: TicketStatus.NotBought,
  });
}

addPassenger("Alice");
addPassenger("Bob");

console.log(passengers);
```

---

### Enum è¨­å®šå­—ä¸²å€¼ï¼ˆæ›´ç›´è§€ï¼‰

```tsx
enum TrainClass {
  Express = "è‡ªå¼·è™Ÿ",
  Local = "å€é–“è»Š",
  HighSpeed = "é«˜éµ",
}

function printTrainClass(c: TrainClass) {
  console.log("åˆ—è»Šç¨®é¡ï¼š" + c);
}

printTrainClass(TrainClass.Express);
```

---

### Enum è£œå……èªªæ˜ ğŸš†

- **å„ªé»**ï¼š
  1. è®“ã€Œå›ºå®šé¸é …ã€æ›´æ¸…æ¥šï¼ˆæ¯”å­—ä¸²å¸¸æ•¸æ›´æœ‰èªæ„ï¼‰ã€‚
  2. é¿å…æ‹¼éŒ¯å­—ä¸²ï¼ˆTS ç·¨è­¯æ™‚å°±æœƒæª¢æŸ¥éŒ¯èª¤ï¼‰ã€‚
  3. å¯è®€æ€§é«˜ï¼Œé©åˆå¤§å‹å°ˆæ¡ˆã€‚
- **å¸¸è¦‹ä½¿ç”¨å ´æ™¯**ï¼š
  - ç¥¨åˆ¸ç‹€æ…‹ï¼ˆå·²è³¼è²· / æœªè³¼è²· / å·²ä½¿ç”¨ / éæœŸï¼‰
  - åˆ—è»Šç¨®é¡ï¼ˆè‡ªå¼·è™Ÿ / å€é–“è»Š / é«˜éµï¼‰
  - åº§ä½ç­‰ç´šï¼ˆæ™®é€š / å•†å‹™ / é ­ç­‰ï¼‰

---

## å°çµ

- **Union Type**ï¼šè®“ä¸€å€‹è®Šæ•¸å¯ä»¥æœ‰å¤šç¨®å‹åˆ¥ï¼Œå¸¸ç”¨æ–¼ã€Œç¥¨è™Ÿã€ä»˜æ¬¾æ–¹å¼ã€é€™é¡ä¸ç¢ºå®šå‹åˆ¥çš„å ´æ™¯ã€‚
- **Enum**ï¼šè®“ã€Œå›ºå®šç¯„åœçš„å€¼ã€æ›´æœ‰èªæ„ï¼Œå¸¸ç”¨æ–¼ã€Œç¥¨åˆ¸ç‹€æ…‹ã€åˆ—è»Šç¨®é¡ã€åº§ä½ç­‰ç´šã€ã€‚
- Union éˆæ´»ï¼ŒEnum åš´è¬¹ â€”â€” æ­é…ä½¿ç”¨å¯ä»¥è®“ç¨‹å¼ç¢¼æ›´ä¹¾æ·¨åˆå®‰å…¨ã€‚

ğŸ‘‰ æ˜å¤©ï¼ˆDay 5ï¼‰æˆ‘å€‘æœƒä»‹ç´¹ **interface** å’Œ **type**ï¼Œè®“æˆ‘å€‘çš„ç«è»Šæ—…ç¨‹æ›´çµæ§‹åŒ–ï¼ ğŸš‰
